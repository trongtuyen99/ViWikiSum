keyword: Xác thực
url: https://ichi.pro/vi/asp-net-core-3-uy-quyen-va-xac-thuc-voi-bearer-va-jwt-53059027503901
content:
Trong bài viết này, tôi sẽ chỉ ra cách chúng ta có thể tạo một lược đồ ủy quyền và xác thực dựa trên vai trò người dùng trong ASP.NET Core 3.0. Bài viết này sẽ không hiển thị đăng ký người dùng trong cơ sở dữ liệu, vì vậy, tôi sẽ mô phỏng bằng “mã cứng”. Chúng tôi sẽ không có tương tác với cơ sở dữ liệu. 3️⃣ Sau đó, chúng tôi sẽ tạo một thư mục trong thư mục gốc có tên là Models và bên trong nó là tệp “User.cs” với mã này. 4️⃣ Mục tiếp theo của chúng tôi là kho lưu trữ và đối với điều đó, chúng tôi sẽ tạo một thư mục trong thư mục gốc có tên là Repositories và bên trong nó là tệp “UserRepository.cs”, với mã này. 5️⃣ Cuối cùng, chúng ta sẽ cần một key, một bí mật, để tạo Token, key này phải là một chuỗi mà chỉ máy chủ mới biết, nó được gọi là Private Key. Đối với trường hợp này, chúng tôi sẽ tạo một tệp có tên “Settings.cs” ở thư mục gốc của ứng dụng với mã sau. Trong các kịch bản sản xuất, chúng ta nên đặt khóa này trong cài đặt. Trên gói “Microsoft.Authentication.Jwt”, chúng tôi có lớp JwtSecurityTokenHandler được sử dụng để tạo Mã thông báo nhưng chúng tôi cần cung cấp một số thông tin, được gọi là SecurityTokenDescriptor, trong đó, chúng tôi có thông tin hồ sơ người dùng, thời gian hết hạn, và những người khác. Đối với điều đó, chúng tôi sẽ tạo một thư mục có tên là “Dịch vụ” và bên trong tạo một tệp có tên “TokenService.cs” với mã sau:. Bây giờ chúng tôi cần thông báo cho ứng dụng của mình rằng chúng tôi muốn làm việc với xác thực, ủy quyền và định dạng mã thông báo mà trong trường hợp của chúng tôi là JWT. Đối với điều đó trong lớp “Startup.cs” trên phương thức ConfigureServices , chúng tôi cần thông báo cho ASP.NET rằng chúng tôi đang sử dụng xác thực và đối với điều đó, chúng tôi sử dụng tính năng AddAuthentication , trong đó, chúng tôi thông báo cho phù thủy là loại và thách thức. Vẫn trong ConfigureServices, chúng tôi thông báo rằng chúng tôi sẽ sử dụng JwtBearer và cấu hình của nó, điều này được thực hiện trong phương thức AddJwtBeater. Tiếp theo, chúng ta có lớp “Startup.cs”. Để xác thực ví dụ, chúng ta cần tạo một bộ điều khiển như được hiển thị trong đoạn mã sau. Bây giờ chúng ta cần chạy API và thực hiện yêu cầu Đăng bằng Postman như tôi hiển thị trong hình sau. Lưu ý: Chú ý đến cổng, trong trường hợp của tôi, là “61076”, vui lòng kiểm tra cổng của bạn. Ủy quyền (Roles = ”role1, role2, role3”): người dùng phải được xác thực và cần có một trong các vai trò trong danh sách. Bây giờ chúng tôi có thể kiểm tra điểm cuối mới trong bộ điều khiển này, để sử dụng lại người đưa thư, đừng quên chúng tôi cần thông báo mã thông báo như được hiển thị bên dưới. Bạn có thể thấy việc triển khai Ủy quyền và Xác thực bằng Bearer và JWT với .Net Core 3 dễ dàng như thế nào. Tôi đã tải lên mã để triển khai bình thường trong kho lưu trữ này . Hôm nay là thứ Bảy và tôi chuẩn bị xem lại những gì chúng ta đã học được trong tuần này. Đó là một chuyến đi hoang dã cho đến nay! Ngày đầu tiên tôi cảm thấy rất tự tin, vì chúng tôi chỉ mới xem qua những điều cơ bản, nhưng nó trở nên khá khó khăn khi chúng tôi bắt đầu tham gia vào các hàm gọi lại và phương thức mảng / đối tượng trong tuần. Không giống như nhiều ngôn ngữ lập trình khác, JavaScript có cả toán tử so sánh kép = == và ba bằng ===. Thoạt nhìn, chúng dường như làm gần như giống hệt nhau, nhưng có một điểm khác biệt chính giữa hai cách làm cho giá trị bằng ba gần như luôn tốt hơn. Selenium là một bộ công cụ để tự động hóa các trình duyệt web. Bạn có thể sử dụng nó cho một số tác vụ như kiểm tra, duyệt web, thực hiện một số hành động trên web, cắt nội dung web và hơn thế nữa. Vào đầu tháng 11 năm 2020, SalesForce đã công bố một công cụ lấy dấu vân tay TLS đang hoạt động mới, có tên là JARM không thể giải thích được. Tiền đề của JARM là nếu một máy chủ đích được quét bằng nhiều gói TCP "Client hello" được tạo tùy chỉnh khác nhau, thì các phản hồi kết quả có thể được kết hợp và băm để cung cấp một dấu vân tay chỉ ra một ứng dụng hoặc máy chủ được chia sẻ hoặc tương tự cây rơm. Những thứ phi kỹ thuật tạo nên những nhà phát triển tuyệt vời Tôi đã ngừng viết bài này một thời gian - tôi chưa bao giờ cảm thấy đủ điều kiện để viết nó. Hôm nay tôi nghĩ đã đến lúc viết nó. Khi phỏng vấn cho một vị trí trong ngành công nghệ, bạn thường sẽ trải qua ít nhất ba vòng phỏng vấn trước khi bất kỳ lời đề nghị nào được xem xét. Các vòng thường trông giống như thế này: Nếu bạn nghĩ như vậy, bạn đã nhầm. Cô ấy đã được rang trong phần bình luận của một bài đăng đánh giá cao. Sau khi quay phim Spectre, Daniel Craig đã nói một số điều tồi tệ về việc sẽ đóng vai James Bond một lần nữa. Ngôi sao No Time To Die giờ rất hối hận. Cốt truyện của Carmel trong Nine Perfect Strangers đã có một bước ngoặt đáng kinh ngạc. Nhưng có một điều mà người xem thắc mắc đó là đôi mắt của cô. Giáo dục giới tính mùa 3 trở lại Netflix. Người hâm mộ tự hỏi liệu Alistair Petrie (Mr. Groff) và Connor Swindells (Adam) có liên quan gì ngoài đời thực hay không. Bạn muốn thay đổi tên của mình trên Facebook? Thật dễ dàng để thực hiện chỉ trong vài bước đơn giản. Nếu bạn luôn không đạt được mục tiêu 10.000 bước hàng ngày tùy ý đó, chúng tôi có tin tốt. Sức khỏe của bạn cũng có thể được hưởng lợi nhiều nếu bạn đi ít bước hơn. Garden State là tiểu bang duy nhất ở Hoa Kỳ, nơi bạn tự bơm xăng là bất hợp pháp. Và nhân tiện, lái xe vào lúc hoàng hôn và trong những ngày trăng tròn cũng không mang lại lợi ích gì cho bạn. Ảnh: Mattel Chúng tôi đã thấy một cảnh với Batman, Aquaman và Flash trên chiếc Batmobile mới trong đoạn giới thiệu thứ hai của Justice League, nhưng chúng tôi đã bỏ sót những hình ảnh chi tiết. Những hình ảnh về chiếc xe mới của người dơi vừa xuất hiện từ Comic-Con, và chúng rất hoành tráng. Nếu bạn có một cuốn Kinh thánh trong tay, rất có thể nó được in thành hai cột văn bản cho mỗi trang, một thông lệ đã có từ vài thế kỷ trước (ít nhất là từ thế kỷ 15). Nếu Liên Minh Huyền Thoại là một trò chơi dành cho thiết bị di động, tôi muốn nghĩ rằng nó sẽ giống như một phiên bản được sản xuất khéo léo của tựa game ăn khách Flappy Bird năm ngoái: dễ thương, quyến rũ, buồn bã ở những điểm thấp khó và chóng mặt ở những điểm cao. Riot có lẽ cảm thấy khác về điều này, bằng chứng là Blitzcranks Poro Roundup. Tafari Robertson nói chuyện với các sinh viên đang ngồi để phản đối Tổng thống Connor Clegg của toàn thể sinh viên. Trong một trường hợp liên quan đến Alex Jones, những giọt nước mắt trắng, một tài khoản Instagram phân biệt chủng tộc, một chính phủ sinh viên giống Illuminati và khả năng bất khuất của người Caucasian để vượt qua những sơ hở, các sinh viên tại Đại học Bang Texas ở San Marcos đã tiếp quản trung tâm sinh viên của trường sau khi một nỗ lực thất bại trong việc lật đổ chủ tịch chính phủ sinh viên và nhà hoạt động chống phân biệt chủng tộc ngược Connor Clegg. Mặt trăng có tốc độ vừa phải để không đâm vào Trái đất hoặc thoát ra ngoài không gian.
